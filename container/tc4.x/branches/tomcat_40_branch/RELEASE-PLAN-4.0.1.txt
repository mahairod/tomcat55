$Id$

                     Release Plan for Apache Tomcat 4.0.1
                     ====================================


Introduction:
------------

This document is a release plan for a maintenance release of Tomcat 4.0. This 
release will address a few important issues which have been uncovered since 
the release of Tomcat 4.0, as well as a number of fixes for bugs and 
compliance issues. None of these problems are showstoppers, and justified an
emergency release.

The following schedule is proposed:

  Sunday, October 7, 2001       Tomcat 4.0.1 Beta

  Monday, October 15, 2001      Tomcat 4.0.1 Release

If for some reason new issues are found which need significant patches to be 
addressed, additional beta releases will be made, and this release plan will be
updated.

As usual with a mainenance release, there should be no regressions from 4.0 to
4.0.1, and no open confirmed P1 or P2 bugs in the Bugzilla database. The 
Apache bug database can be accessed at:

  http://nagoya.apache.org/bugzilla/

Please review the bug reports, and their classification as "must have",
"nice to have", or "address later".  Lobbying for changes in classification
can take place on the TOMCAT-DEV mailling list.  In addition, if you have a
bug report or enhancement that you wish to have considered prior to final
release, please submit a bug report as quickly as possible.



New Features
------------

- Support for AJP 1.3.
- Static resource content caching.
- Enhanced error reporting mechanism.


Important Bug Fixes
-------------------

- Fix class loading delegation problems (should fix most reported class 
  loading conflicts).
- Fix spec compliance issues where the response wouldn't be committed after
  a sendError or sendRedirect.
- Correctly produce error reports and handle error pages for 401, 403, as well
  as errors returned from a forwarded servlet.
- Fix consistency problems in the static resource cache.


Bugs That Must Be Addressed Before Final Release:
------------------------------------------------

Jasper      2693    Syntax errors in JSP source generate NumberFormatException
                    (likely related to 3822).

Connectors  3509    Apache 1.3.20 and mod_webapp and Tomcat 4b7 HANGS
                    (likely to be the same issue as 1788)

Connectors  3534    File Upload doesn't work with Apache, mod_webapp, Tomcat 4,
                    and WebDAV.

Jasper      3640    Fix for JSPC handling of tag libraries in a JAR
                    (probably related to 3529).

Jasper      3779    The value of <jsp:param> should be URL encoded.

Jasper      3822    Drive letter causes a NumberFormatException when JSP 
                    compiler parses errors.

Catalina    3973    Session.getAttribute() locks-up in 
                    HttpSessionListener.sessionDestroyed().


Nice To Have Fixes Before Final Release:
---------------------------------------

Jasper      3704    Forward errors not reported when response is committed.

Jasper      3770    HttpSessionListener.sessionCreated() called twice for each
                    session.

Jasper      3668    Validation error reporting.


Unconfirmed Bugs (Awaiting Reproducible Failure Case):
-----------------------------------------------------

Catalina    3888    WebappClassLoader: Lifecycle error : CL stopped.

Catalina    3953    If context is listed in server.xml then webapp servlets 
                    are loaded twice....

Catalina    3970    Cannot send more that 1 MB using multipart/form-data.
