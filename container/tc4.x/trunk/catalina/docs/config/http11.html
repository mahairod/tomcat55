<html>
<head>
<title>The 'HTTP/1.1 Connector' Component</title>
</head>
<body bgcolor="white">

<div align="center">
<h1>The <u>HTTP/1.1 Connector</u> Component</h1>
<br>
<a href="#Introduction">[Introduction]</a>
<a href="#Component Attributes">[Component Attributes]</a>
<a href="#Special Features">[Special Features]</a>
</br>
</div>


<a name="Introduction"></a>
<h2>Introduction</h2>

<p>The <strong>HTTP/1.1 Connector</strong> component is a
<strong>Connector</strong> implementation that supports the
HTTP/1.1 protocol.  It enables Catalina to
function as a stand-alone web server, in addition to its ability to execute
servlets and serve JSP pages.  A particular instance of this component
listens for connections on a configured TCP/IP port number on the server.
One or more such connectors can be configured, each forwarding requests to
a particular <a href="engine.html">Engine</a> for processing.</p>

<p>This Connector is configured by including a
<code>&lt;Connector&gt;</code> element in your <code>conf/server.xml</code>
configuration file, nested inside a <a href="service.html">Service</a> element.
All connectors that you have configured are automatically attached to the
<a href="engine.html">Engine</a> that is specified after the connector.</p>

<p>At server startup time, this Connector will create a number of processor
threads (based on the value of the <code>minProcessors</code> property).  Each
incoming request requires a thread, and the associated processor, for the
duration of that request.  If more simultaneous requests are received than
can be handled by the current set of available processors, additional threads
(and associated processors) will be created up to the configured value of the
<code>maxProcessors</code> property, which defines the maximum number of
simultaneous requests this connector is allowed to process.</p>

<br>


<a name="Component Attributes"></a>
<h2>Component Attributes</h2>

<p>The <strong>HTTP/1.1 Connector</strong> supports the following attributes:
</p>

<table border="1" width="100%">

  <tr>
    <th width="15%">Attribute</th>
    <th width="85%">Description</th>
  </tr>

  <tr>
    <td><code>acceptCount</code></td>
    <td>
      The maximum queue length for incoming connection indications that will
      be allowed on our server socket.  If a connection indication arrives
      when the queue is full, the connection is refused.  If not specfied, a
      backlog of 10 will be allowed.
    </td>
  </tr>

  <tr>
    <td><code>address</code></td>
    <td>
      For servers with more than one IP address, this property specifies which
      address will be used for listening on the specified port.  If not
      specified, this port number will be used on all IP addresses associated
      with this server.
    </td>
  </tr>

  <tr>
    <td><code>bufferSize</code></td>
    <td>
      The size (in bytes) of the buffer to be provided for input streams
      created by this connector.  Increasing the buffer size can improve
      performance, at the expense of higher memory usage.  If not specified,
      a buffer size of 2048 bytes will be provided.
    </td>
  </tr>

  <tr>
    <td><code>className</code></td>
    <td>
      Java class name of the implementation to use.  Must be specified
      as <code>org.apache.tomcat.connector.http.HttpConnector</code>
      to use the standard implementation.
    </td>
  </tr>

  <tr>
    <td><code>debug</code></td>
    <td>
      The debugging detail level of log messages generated by this connector,
      where higher numbers create more detailed output.  If not specified,
      the debugging detail level will be set to zero (0).
    </td>
  </tr>

  <tr>
    <td><code>maxProcessors</code></td>
    <td>
      The maximum number of processor threads that will ever be created by
      this Connector, which therefore determines the maximum number of
      simultaneous requests that can be handled.  If not specified, the
      maximum will be set to 20.
    </td>
  </tr>

  <tr>
    <td><code>minProcessors</code></td>
    <td>
      The number of processor threads that will be initialized when this
      Connector is first started.  If not specified, 5 processors will be
      initialized.
    </td>
  </tr>

  <tr>
    <td><code>port</code></td>
    <td>
      The TCP/IP port number on which this connector should listen for
      client connections.  Your operating system will allow only one server
      application to listen to a particular port at a particular time.
      If not specified, port 8080 will be used.
    </td>
  </tr>

</table>

<br>


<a name="Special Features"></a>
<h2>Special Features</h2>

<h3>HTTP/1.1 and HTTP/1.0 Protocol Support</h3>

<p>This Connector supports all of the required features of the HTTP/1.1
protocol as described in RFC 2616, including persistent connections and
chunked encoding.  If the client (typically a browser) supports only HTTP/1.0,
the Connector gracefully falls back to supporting this as well, so that
interoperability is maximized.  No special configuration is required to
enable this support.</p>

<h3>Logging Output</h3>

<p>Any debugging or exception logging information generated by this Connector
will be sent to the <a href="logger.html">Logger</a> associated with the
<a href="engine.html">Engine</a> which is used to process requests for
this Connector.</p>

<h3>SSL Support</h3>

<p>You can enable SSL support for an instance of this
<strong>Connector</strong> by configuring an appropriate socket factory,
as follows:</p>

<table border="1" width="100%">

  <tr>
    <th width="15%">Attribute</th>
    <th width="85%">Description</th>
  </tr>

  <tr>
    <td><code>algorithm</code></td>
    <td>
      The certificate encoding algorithm to be used.  If not specified, the
      default value is <code>SunX509</code>.
    </td>
  </tr>

  <tr>
    <td><code>className</code></td>
    <td>
      The fully qualified Java class name of the SSL socket factory.  With the
      standard <strong>HTTP 1.1</strong> connectory, you must specify
      <code>org.apache.catalina.net.SSLServerSocketFactory</code> here.
    </td>
  </tr>

  <tr>
    <td><code>clientAuth</code></td>
    <td>
      Set to <code>true</code> if you want the SSL stack to require a valid
      certificate chain from the client before accepting a connection.  A
      <code>false</code> value (which is the default) will not require such
      a certificate chain.
    </td>
  </tr>

  <tr>
    <td><code>keystoreFile</code></td>
    <td>
      The pathname of the keystore file from which the server certificate is
      loaded.  By default, the pathname is the file ".keystore" in the home
      directory of the operating system username that is running Tomcat.
    </td>
  </tr>

  <tr>
    <td><code>keystorePass</code></td>
    <td>
      The password used to access the server certificate from the keystore
      file identified above.  If not specified, the default value is
      "changeit".
    </td>
  </tr>

  <tr>
    <td><code>keystoreType</code></td>
    <td>
      The type of keystore file to be used for the server certificate.  If
      not specified, the default value is "JKS".
    </td>
  </tr>

  <tr>
    <td><code>protocol</code></td>
    <td>
      The version of the SSL protocol to use.  If not specified, the default
      value is "TLS".
    </td>
  </tr>

</table>

<p>Successful use of SSL support requires that you have installed the JAR
files from the Java Secure Sockets Extension (JSSE) package into your
<code>conf/server</code> directory.</p>

<br>

</body>
</html>
