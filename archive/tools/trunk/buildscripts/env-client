#!/bin/sh

# This script defines:
#
# Layout/directory  variables
# BUILD_DIR TOOLS_DIR SCRIPT_DIR SRC_DIR
# APACHE_HOME
# FTP_DIR
#
# TLOGFILE
#
# TDSTRING
#
# We also use some pre-defined shell variables:
# OSTYPE
# HOSTTYPE
#
# 

# This the client nightly build sh script. This was originally written
# for tokyo, a sparc solaris client.

TYEAR=`date +%Y`
TMONTH=`date +%m`
TDAY=`date +%d`
TDSTRING=$TYEAR$TMONTH$TDAY

# default, may be overriden in host-specific
BUILD_DIR=$HOME
SRC_DIR=$HOME/ws
## Better ? BUILD_DIR=/tmp/$TDSTRING

## XXX Duncan specific, cut build
TOOLS_DIR=$HOME/build/jakarta-tools
SCRIPT_DIR=${TOOLS_DIR}/buildscripts

TLOGFILE=${BUILD_DIR}/result/tomcat-${HOSTTYPE}-${OSTYPE}-$TDSTRING.log

if [ "$APACHE_HOME" = "" ] ; then 
    APACHE_HOME=/opt/apache-1.3.9
fi

if [ "$CVSROOT" = "" ] ; then 
    CVSROOT=:pserver:anoncvs@dev.apache.org:/home/cvspublic
fi

export TDSTRING TLOGFILE TSEP BUILD_DIR TOOLS_DIR SCRIPT_DIR CVSROOT FTP_DIR SRC_DIR

## Override with platform specific, host specific and user specific options

# per arch - "official"
if [ -f ${SCRIPT_DIR}/env-${HOSTTYPE}-${OSTYPE} ]; then 
    .  ${SCRIPT_DIR}/env-${HOSTTYPE}-${OSTYPE}
fi

# per host - "official"
if [ -f ${SCRIPT_DIR}/env-$HOSTNAME ]; then 
    .  ${SCRIPT_DIR}/env-$HOSTNAME
fi

# local settings
if [ -f ${HOME}/.env-jakarta ]; then 
    .  ${HOME}/.env-jakarta
fi




