<html><head><META http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Tomcat FAQ - Security</title><meta value="Tim Funk" name="author"><meta value="funkman@apache.org" name="email"><meta value="Yoav Shapira" name="author"><meta value="yoavs@apache.org" name="email"><style>
      dt { font-size : larger;  font-weight : bold }
      dd {padding-bottom : 10px;}
    </style></head><body vlink="#525D76" alink="#525D76" link="#525D76" text="#000000" bgcolor="#ffffff"><table cellspacing="0" width="100%" border="0"><!--PAGE HEADER--><tr><td><!--PROJECT LOGO--><a href="http://tomcat.apache.org/"><img border="0" alt="Tomcat Logo" align="left" src="/images/tomcat.gif"></a></td><td><font face="arial,helvetica,sanserif"><h1>Apache Tomcat</h1></font></td><td><!--APACHE LOGO--><a href="http://www.apache.org/"><img border="0" alt="Apache Logo" align="right" src="http://www.apache.org/images/asf-logo.gif"></a></td></tr></table><table cellspacing="4" width="100%" border="0"><!--HEADER SEPARATOR--><tr><td colspan="2"><hr size="1" noshade=""></td></tr><tr><!--RIGHT SIDE MAIN BODY--><td align="left" valign="top" width="80%"><table cellspacing="4" width="100%" border="0"><tr><td nowrap="true" valign="top" align="left"><h1>Tomcat FAQ</h1><h2>Security</h2></td><td nowrap="true" valign="top" align="right"><img border="0" hspace="0" vspace="0" height="1" width="1" src="../../images/void.gif"></td></tr></table><table cellpadding="2" cellspacing="0" border="0"><tr><td bgcolor="#525D76"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="Preface"><strong>Preface</strong></a></font></td></tr><tr><td><blockquote>
<p>
    This FAQ section provides help with some security-related issues.
    If you hear of a vulnerability or its exploitation, please let us know
    on the <a href="mailto:security@tomcat.apache.org">
    security@tomcat.apache.org</a>  mailing list.
</p>

<table cellpadding="2" cellspacing="0" border="0"><tr><td bgcolor="#828DA6"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="The Record"><strong>The Record</strong></a></font></td></tr><tr><td><blockquote>
<p>
  Tomcat's security record is impeccable.  There have been no public
  cases of damage done to a company, organization, or individual due
  to a Tomcat security issue.  There have been no documented cases
  of data loss or application crashes caused by an intruder.  While
  there have been numerous analyses conducted on Tomcat, partially
  because this is easy to do with Tomcat's source code openly available,
  there have been only a few <strong>theoretical</strong> vulnerabilities
  found.  All of those were addressed rapidly even though there were no
  documented cases of actual exploitation of these vulnerabilities.
</p>
</blockquote></td></tr></table>

<table cellpadding="2" cellspacing="0" border="0"><tr><td bgcolor="#828DA6"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="Role of Customization"><strong>Role of Customization</strong></a></font></td></tr><tr><td><blockquote>
<p>
  We believe, and the evidence suggests, that Tomcat is more than secure
  enough for most use-cases.  However, like all other components of Tomcat,
  you can customize any and all of the relevant parts of the server to
  achieve even higher security.  For example, the session manager implementation
  is pluggable, and even the default implementation has support for pluggable
  random number generators.  If you have a special need that you feel is not
  met by Tomcat out of the box, consider these customization options.  At the
  same time, please bring up your requirements on the user mailing list, where
  we'll be glad to discuss it and assist in your approach/design/implementation
  as needed.
</p>
</blockquote></td></tr></table>
</blockquote></td></tr></table><table cellpadding="2" cellspacing="0" border="0"><tr><td bgcolor="#525D76"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="Questions"><strong>Questions</strong></a></font></td></tr><tr><td><blockquote>
  <ul>
     <li>
       <a href="#openSSL">
         How do I use OpenSSL to set up my own Certificate Authority (CA)?
       </a>
     </li>

     <li>
        <a href="#8005">
         OH NO! PORT 8005 is available for anyone on localhost to
         shutdown my tomcat!
        </a>
     </li>

     <li>
       <a href="#root">
         What about Tomcat running as root?
       </a>
     </li>

     <li>
       <a href="#https">
         How to I force all my pages to run under HTTPS?
       </a>
     </li>

     <li>
       <a href="#login">
          What is the default login for the manager and admin app?
       </a>
     </li>

     <li>
       <a href="#restrict">
          How do I restrict access by ip address or remote host?
       </a>
     </li>

     <li>
       <a href="#jsvcExample">
         How do I use jsvc/procrun to run Tomcat on port 80 securely?
       </a>
     </li>

     <li>
       <a href="#analyses">
         Has Tomcat's security been independently analyzed or audited?
       </a>
     </li>

  </ul>

</blockquote></td></tr></table><table cellpadding="2" cellspacing="0" border="0"><tr><td bgcolor="#525D76"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="Answers"><strong>Answers</strong></a></font></td></tr><tr><td><blockquote>
  <b style="font-size: larger">
    <a name="openSSL">
      How do I use OpenSSL to set up my own Certificate Authority (CA)?
    </a>
  </b>
  <div style="padding-left : 20px;">
    <a href="http://marc.theaimsgroup.com/?l=tomcat-user&m=106293430225790&w=2">
      Using OpenSSL to set up your own CA.
    </a>
  </div><br>

  <b style="font-size: larger">
    <a name="8005">
       OH NO! PORT 8005 is available for anyone on localhost to
       shutdown my tomcat!
    </a>
  </b>
  <div style="padding-left : 20px;">
    See these 2 discussions.
    <ul>
      <li>
        <a href="http://marc.theaimsgroup.com/?t=104396653200003&r=1&w=2">
          Possible to switch off tcp/ip server shutdown?</a>
      </li>
      <li>
        <a href="http://marc.theaimsgroup.com/?t=103126643200005&r=1&w=2">
          Tomcat shutdown &amp; security
        </a>
      </li>
    </ul>
  </div><br>


  <b style="font-size: larger">
    <a name="root">
      What about Tomcat running as root?
    </a>
  </b>
  <div style="padding-left : 20px;">
      See these threads:
       <ul>
        <li>
           <a href="http://marc.theaimsgroup.com/?t=104516038700003&r=1&w=2">
              Tomcat as root and security issues
           </a>
        </li>
       </ul>
  </div><br>



  <b style="font-size: larger">
    <a name="https">
      How to I force all my pages to run under HTTPS?
    </a>
  </b>
  <div style="padding-left : 20px;">
      <a href="http://marc.theaimsgroup.com/?l=tomcat-user&m=104951559722619&w=2">
        Use security-constraint in web.xml.
      </a>
  </div><br>



  <b style="font-size: larger">
    <a name="login">
      What is the default login for the manager and admin app?
    </a>
  </b>
  <div style="padding-left : 20px;">
    The admin and manager application do not provide a default
    login. Doing so is a security flaw. You need to edit
    <code>$CATALINA_HOME/conf/tomcat-users.xml</code>
    if you are using the default install.
    <a href="http://tomcat.apache.org/tomcat-4.1-doc/manager-howto.html#Configuring%20Manager%20Application%20Access">
        Configuring Manager Application Access</a>
  </div><br>

  <b style="font-size: larger">
    <a name="restrict">
      How do I restrict access by ip address or remote host?
    </a>
  </b>
  <div style="padding-left : 20px;">
    By using the RemoteHostValve or RemoteAddrValve. Warning, these valves rely on
    accurate incoming ip addresses or hostnames. So they can fall victim to spoofing!
    <a href="http://tomcat.apache.org/tomcat-4.1-doc/config/valve.html">
        Valve Reference Link</a>
  </div><br>

  <b style="font-size: larger">
    <a name="jsvcExample">
      How do I use jsvc/procrun to run Tomcat on port 80 securely?
    </a>
  </b>
  <div style="padding-left : 20px;">
   Fairly easily ;)  See the Setup page in the docs for your tomcat release, and read
   <a href="http://marc.theaimsgroup.com/?l=tomcat-user&m=108566020231438&w=2">
     this mailing list post
   </a> for a complete setup example with permissions etc.
  </div><br>

  <b style="font-size: larger">
    <a name="analyses">
      Has Tomcat's security been independently analyzed or audited?
    </a>
  </b>
  <div style="padding-left : 20px;">
    Yes, by numerous organizations and individuals, many times.  Try
    <a href="http://www.google.com/search?sourceid=navclient&ie=UTF-8&q=is+tomcat+secure">
    this Google search</a> and you'll see many references, guides, and analyses.
  </div><br>

</blockquote></td></tr></table></td></tr><!--FOOTER SEPARATOR--><tr><td colspan="2"><hr size="1" noshade=""></td></tr><!--PAGE FOOTER--><tr><td colspan="2"><div align="center"><font size="-1" color="#525D76"><em>
        Copyright &copy; 1999-2005, Apache Software Foundation
        </em></font></div></td></tr></table></body></html>