<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!-- Content Stylesheet for Site -->

        
<!-- start the processing -->
    <!-- ====================================================================== -->
    <!-- Main Page Section -->
    <!-- ====================================================================== -->
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

                                                    <meta name="author" value="Remy Maucherat">
            <meta name="email" value="$au.getAttributeValue("email")">
            
           
                                    
            <title>The Jakarta Site - Building Tomcat</title>
        </head>

        <body bgcolor="#ffffff" text="#000000" link="#525D76">        
            <table border="0" width="100%" cellspacing="0">
                <!-- TOP IMAGE -->
                <tr>
                    <td align="left">
<a href="http://jakarta.apache.org"><img src="http://jakarta.apache.org/images/jakarta-logo.gif" border="0"/></a>
</td>
<td align="right">
<a href="http://jakarta.apache.org/tomcat"><img src="./images/tomcat.gif" alt="The Apache Tomcat Project" border="0"/></a>
</td>
                </tr>
            </table>
            <table border="0" width="100%" cellspacing="4">
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>
                
                <tr>
                    <!-- LEFT SIDE NAVIGATION -->
                    <td width="20%" valign="top" nowrap="true">
                                <p><strong>Tomcat</strong></p>
        <ul>
                    <li>    <a href="./index.html">Front Page</a>
</li>
                    <li>    <a href="./news.html">News & Status</a>
</li>
                    <li>    <a href="./bugreport.html">Bug Database</a>
</li>
                    <li>    <a href="./building.html">Building</a>
</li>
                    <li>    <a href="./resources.html">Resources</a>
</li>
                    <li>    <a href="./irc.html">IRC</a>
</li>
                </ul>
            <p><strong>Documentation</strong></p>
        <ul>
                    <li>    <a href="./tomcat-3.2-doc/index.html">Tomcat 3.2</a>
</li>
                    <li>    <a href="./tomcat-3.3-doc/index.html">Tomcat 3.3</a>
</li>
                    <li>    <a href="./tomcat-4.0-doc/index.html">Tomcat 4.0</a>
</li>
                    <li>    <a href="./tomcat-4.1-doc/index.html">Tomcat 4.1</a>
</li>
                    <li>    <a href="./tomcat-5.0-doc/index.html">Tomcat 5.0</a>
</li>
                </ul>
            <p><strong>Download</strong></p>
        <ul>
                    <li>    <a href="http://jakarta.apache.org/site/binindex.html">Binaries</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/sourceindex.html">Source Code</a>
</li>
                </ul>
            <p><strong>Jakarta</strong></p>
        <ul>
                    <li>    <a href="./index.html">Front Page</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/news.html">News & Status</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/mission.html">Mission</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/guidelines.html">Guidelines Notes</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/faqs.html">FAQs</a>
</li>
                </ul>
            <p><strong>Get Involved</strong></p>
        <ul>
                    <li>    <a href="http://jakarta.apache.org/site/getinvolved.html">Overview</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/cvsindex.html">CVS Repositories</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/mail.html">Mailing Lists</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/library.html">Reference Library</a>
</li>
                </ul>
            <p><strong>Misc</strong></p>
        <ul>
                    <li>    <a href="http://jakarta.apache.org/site/whoweare.html">Who We Are</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/acknowledgements.html">Acknowledgements</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/contact.html">Contact</a>
</li>
                    <li>    <a href="http://jakarta.apache.org/site/legal.html">Legal</a>
</li>
                </ul>
                        </td>
                    <td width="80%" align="left" valign="top">
                                                                    <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#525D76">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="Introduction"><strong>Introduction</strong></a>
        </font>
      </td></tr>
      <tr><td>
        <blockquote>
                                    <p>
Building Tomcat from CVS is very easy, and is the first step to contributing to
Tomcat. The following is a step by step TODO list.
</p>
                            </blockquote>
        </p>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#525D76">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="Download and install a Java Development Kit 1.4 or later"><strong>Download and install a Java Development Kit 1.4 or later</strong></a>
        </font>
      </td></tr>
      <tr><td>
        <blockquote>
                                    <p>
Ealier releases would also work, but are harder to work with due to the need to
download additional dependencies. Tomcat also runs much faster on the latest 1.4
JDK.
</p>
                                                <p>
The Sun JDK can be downloaded <a href="http://java.sun.com/j2se/">here</a>.
</p>
                                                <p>
<b>IMPORTANT</b>: Set an environment variable JAVA_HOME to the pathname of the 
directory into which you installed the JDK release.
</p>
                            </blockquote>
        </p>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#525D76">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="Install Apache Ant 1.5.1"><strong>Install Apache Ant 1.5.1</strong></a>
        </font>
      </td></tr>
      <tr><td>
        <blockquote>
                                    <p>
Download a binary distribution of Ant 1.5.1 from 
<a href="http://jakarta.apache.org/builds/jakarta-ant/release/v1.5.1/bin/">here</a>.
</p>
                                                <p>
Unpack the binary distribution into a convenient location so that the
Ant release resides in its own directory (conventionally named
"jakarta-ant-1.5.1").  For the purposes of the remainder of this document,
the symbolic name "${ant.home}" is used to refer to the full pathname of
 the release directory.
</p>
                                                <p>
Modify the PATH environment variable to include directory
"${ant.home}/bin" in its list.  This makes the "ant" command line script
available, which will be used to actually perform the build.
</p>
                                                <p>
Download a binary distribution of Xalan 2 from <a href="http://xml.apache.org/dist/xalan-j/">here</a>.
</p>
                                                <p>
Make the "xalan.jar" file of this distribution available to Ant (so that
it can be used with the "style" tag) by copying it to "${ant.home}/lib".
</p>
                            </blockquote>
        </p>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#525D76">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="Building Tomcat"><strong>Building Tomcat</strong></a>
        </font>
      </td></tr>
      <tr><td>
        <blockquote>
                                    <p>
Download the main build.xml script from <a href="http://jakarta.apache.org/builds/jakarta-tomcat/build-5/build.xml">here</a>.
</p>
                                                <p>
Create a new directory, and copy the newly download build.xml to it. This
  directory will be referred to as the ${tomcat.source} directory in the rest
  of this document.
</p>
                                                <p>
Go to that directory, and do:
<code><br />
    cd ${tomcat.source}<br />
    ant<br />
</code>
</p>
                                                <p>
NOTE: Users accessing the Internet through a proxy must use a properties
  file to indicate to Ant the proxy configuration. Read below.
</p>
                                                <p>
WARNING: Running this command will checkout the Tomcat 5 sources from CVS, as
  well as download binaries to the "/usr/local" directory. Make sure this is
  appropriate to do so on your computer. On Windows, this usually corresponds
  to the "C:\usr\local" directory, unless Cygwin is used. Read below to 
  customize the directory used to download the binaries.
</p>
                                                <p>
The build can be controlled by creating a ${tomcat.source}/build.properties
  file, and adding the following content to it:
<code><br />
    # ----- Proxy setup -----<br />
    # Uncomment if using a proxy server<br />
    #proxy.host=proxy.domain<br />
    #proxy.port=8080<br />
    #proxy.use=on<br />
<br />
    # ----- Default Base Path for Dependent Packages -----<br />
    # Replace this path with the directory path where dependencies binaries<br />
    # should be downloaded<br />
    base.path=/usr/local<br />
</code>
</p>
                            </blockquote>
        </p>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                                <table border="0" cellspacing="0" cellpadding="2" width="100%">
      <tr><td bgcolor="#525D76">
        <font color="#ffffff" face="arial,helvetica,sanserif">
          <a name="Updating and rebuilding Tomcat sources"><strong>Updating and rebuilding Tomcat sources</strong></a>
        </font>
      </td></tr>
      <tr><td>
        <blockquote>
                                    <p>
It is recommended to regularly update the downloaded Tomcat 5 sources. 
To do this, execute the following commands:

<code><br />
    cd ${tomcat.source}<br />
    ant checkout<br />
</code>
</p>
                                                <p>
For a quick rebuild of only modified code you can use:
<code><br />
    cd ${tomcat.source}<br />
    ant build<br />
</code>

In addition, "ant build-depends" will build packages that 
tomcat depends on ( commons-logging for now ), to ease fixes
and debuging in those packages.
</p>
                            </blockquote>
        </p>
      </td></tr>
      <tr><td><br/></td></tr>
    </table>
                                        </td>
                </tr>

                <!-- FOOTER -->
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>
                <tr><td colspan="2">
                    <div align="center"><font color="#525D76" size="-1"><em>
                    Copyright &#169; 1999-2002, Apache Software Foundation
                    </em></font></div>
                </td></tr>
            </table>
        </body>
    </html>
<!-- end the processing -->




















